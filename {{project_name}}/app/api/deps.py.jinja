{% if project_type == "agent" %}
from app.agent import agent_manager
{% endif %}


{% if project_type == "agent" %}
async def get_initialized_agent():
    """Dependency to ensure agent is initialized before endpoint execution"""
    if not agent_manager.is_initialized():
        await agent_manager.initialize()
    return agent_manager
{% endif %}